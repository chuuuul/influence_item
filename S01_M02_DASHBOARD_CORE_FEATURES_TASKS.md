# S01_M02_Dashboard_Core_Features 스프린트 상세 태스크

## 스프린트 개요

**스프린트 ID**: S01_M02_Dashboard_Core_Features  
**목표**: PRD Section 4에 정의된 관리 대시보드의 핵심 기능들을 구현하여 운영자가 AI 분석 결과를 효율적으로 관리할 수 있는 시스템 구축  
**예상 기간**: 2-3주  
**우선순위**: High (시스템 운영에 필수)

---

## 태스크 목록

### S01_M02_T001: 대시보드 프로젝트 구조 설정 및 Streamlit 기본 앱 생성
**우선순위**: High  
**예상 소요시간**: 0.5일  

**목표**: 
- Streamlit 기반 대시보드의 기본 구조 설정
- 프로젝트 디렉토리 구조 생성
- 개발 환경 설정

**상세 작업**:
1. `dashboard/` 디렉토리 생성 및 구조 설계
   ```
   dashboard/
   ├── main.py              # 메인 Streamlit 앱
   ├── config.py            # 설정 파일
   ├── components/          # 재사용 가능한 컴포넌트
   ├── pages/              # 페이지별 모듈
   ├── utils/              # 유틸리티 함수
   └── assets/             # 정적 파일 (CSS, 이미지)
   ```
2. `main.py` 기본 Streamlit 앱 생성
3. 패키지 dependencies 설정 (requirements.txt 업데이트)
4. 실행 스크립트 작성 (`run_dashboard.py`)

**성공 기준**:
- `streamlit run dashboard/main.py` 명령으로 앱 실행 가능
- 기본 페이지 렌더링 정상 동작
- 에러 없는 초기 실행 환경

**관련 파일**:
- `/dashboard/main.py`
- `/dashboard/config.py`
- `/run_dashboard.py`

---

### S01_M02_T002: 메인 네비게이션 구조 설계 및 사이드바 구현
**우선순위**: High  
**예상 소요시간**: 0.5일  

**목표**: 
- 직관적인 네비게이션 시스템 구현
- 사이드바 기반 페이지 전환 기능
- 세션 상태 관리

**상세 작업**:
1. Streamlit의 `st.sidebar` 활용한 네비게이션 메뉴
2. 페이지별 라우팅 시스템 구현
3. 현재 페이지 하이라이트 표시
4. 세션 상태 관리 (`st.session_state`)
5. 기본 스타일링 적용

**네비게이션 메뉴 구조**:
```
📊 대시보드 홈
💰 수익화 가능 후보
🔍 필터링된 제품
📝 상세 뷰
⚙️ 설정
```

**성공 기준**:
- 사이드바 메뉴 클릭으로 페이지 전환 정상 동작
- 현재 선택된 페이지 시각적 표시
- 페이지 전환 시 상태 유지

**관련 파일**:
- `/dashboard/main.py`
- `/dashboard/components/navigation.py`

---

### S01_M02_T003: 수익화 가능 후보 목록 페이지 기본 레이아웃 생성
**우선순위**: High  
**예상 소요시간**: 1일  

**목표**: 
- PRD SPEC-DASH-01 구현을 위한 기본 페이지 레이아웃
- 데이터 로딩 및 표시 구조 설정

**상세 작업**:
1. `pages/monetizable_candidates.py` 생성
2. 페이지 헤더 및 설명 섹션
3. 데이터 로딩 상태 표시 (스피너, 프로그레스 바)
4. 빈 상태 처리 (데이터 없을 때)
5. 기본 레이아웃 구성
6. 더미 데이터를 활용한 초기 테스트

**레이아웃 구성**:
```
[페이지 제목] 수익화 가능 후보 목록
[필터 컨트롤 영역]
[데이터 테이블 영역]
[페이지네이션 영역]
```

**성공 기준**:
- 페이지 접근 시 기본 레이아웃 정상 표시
- 로딩 상태 적절한 사용자 피드백
- 반응형 레이아웃으로 다양한 화면 크기 지원

**관련 파일**:
- `/dashboard/pages/monetizable_candidates.py`
- `/dashboard/utils/data_loader.py`

---

### S01_M02_T004: 데이터 테이블 컴포넌트 구현 (정렬, 필터링, 페이지네이션)
**우선순위**: High  
**예상 소요시간**: 2일  

**목표**: 
- PRD SPEC-DASH-01 고급 정렬 및 필터링 기능 구현
- 대용량 데이터 처리를 위한 페이지네이션

**상세 작업**:
1. `components/data_table.py` 컴포넌트 생성
2. Streamlit의 `st.dataframe` 고급 활용
3. 컬럼별 정렬 기능 (오름차순/내림차순)
4. 실시간 키워드 필터링
5. 컬럼별 필터 옵션 (체크박스, 슬라이더)
6. 페이지네이션 구현 (페이지 크기 조정 가능)
7. 데이터 내보내기 기능 (CSV, JSON)

**필터링 옵션**:
- 매력도 점수 범위 필터
- 채널명 검색
- 제품 카테고리 필터
- 분석 날짜 범위 필터
- PPL 확률 범위 필터

**성공 기준**:
- 100개 이상 데이터 빠른 정렬 (1초 이내)
- 실시간 검색 필터링 (타이핑과 동시에 결과 업데이트)
- CSV/JSON 내보내기 정상 동작
- 모든 필터 조합 시 정확한 결과 반환

**관련 파일**:
- `/dashboard/components/data_table.py`
- `/dashboard/utils/filters.py`
- `/dashboard/utils/export.py`

---

### S01_M02_T005: 상세 뷰 페이지 기본 구조 및 제품 정보 표시
**우선순위**: High  
**예상 소요시간**: 1일  

**목표**: 
- 개별 제품의 상세 정보를 표시하는 페이지 구현
- 사용자 친화적인 정보 레이아웃

**상세 작업**:
1. `pages/detail_view.py` 생성
2. URL 파라미터 또는 세션 상태를 통한 제품 선택 처리
3. 제품 기본 정보 표시 섹션
4. 분석 결과 요약 표시
5. 탭 기반 정보 구성 (기본정보/분석결과/AI생성콘텐츠)
6. 뒤로가기 및 이전/다음 네비게이션

**정보 표시 구성**:
```
[제품 제목] | [매력도 점수]
[제품 이미지] | [기본 정보]
[탭1: 기본정보] [탭2: 분석결과] [탭3: AI콘텐츠]
[YouTube 플레이어 영역]
[액션 버튼 영역]
```

**성공 기준**:
- 제품 ID 기반 상세 정보 정확한 로딩
- 모든 제품 정보 명확한 시각화
- 직관적인 네비게이션 동작

**관련 파일**:
- `/dashboard/pages/detail_view.py`
- `/dashboard/components/product_info.py`

---

### S01_M02_T006: YouTube 임베드 플레이어 통합 및 타임스탬프 재생 기능
**우선순위**: High  
**예상 소요시간**: 1.5일  

**목표**: 
- PRD SPEC-DASH-02 타임스탬프 자동 재생 구현
- YouTube 영상과 분석 결과의 연동

**상세 작업**:
1. `components/youtube_player.py` 컴포넌트 생성
2. Streamlit의 `st.components.v1.html` 활용한 YouTube 임베드
3. 타임스탬프 클릭 시 해당 시점으로 자동 이동
4. 영상 재생 상태 추적
5. 타임스탬프 목록 표시 및 클릭 인터페이스
6. 모바일 환경 호환성 고려

**기능 명세**:
- 타임스탬프 목록에서 클릭 시 YouTube 플레이어가 해당 시점으로 이동
- 재생/일시정지 상태 표시
- 음량 조절 및 전체화면 지원
- 영상 로딩 실패 시 에러 처리

**성공 기준**:
- 클릭 한 번에 해당 구간 정확한 재생
- 모든 브라우저에서 정상 동작
- 모바일 디바이스 호환성 확보

**관련 파일**:
- `/dashboard/components/youtube_player.py`
- `/dashboard/utils/youtube_utils.py`

---

### S01_M02_T007: AI 생성 콘텐츠 표시 컴포넌트 (제목, 해시태그, 캡션)
**우선순위**: Medium  
**예상 소요시간**: 1일  

**목표**: 
- PRD SPEC-DASH-03 AI 생성 콘텐츠 표시 및 복사 기능
- 사용자 편의성을 위한 원클릭 복사

**상세 작업**:
1. `components/ai_content_display.py` 컴포넌트 생성
2. AI 생성 제목, 해시태그, 캡션 각각 표시
3. 원클릭 복사 버튼 구현
4. 클립보드 복사 성공/실패 피드백
5. 콘텐츠 수정 가능한 텍스트 영역
6. 수정 내용 저장 기능

**표시 구성**:
```
📝 AI 생성 콘텐츠
┌─ 추천 제목 ─────────────────── [복사] ─┐
│ "이런 제품이 있었다고?! 연예인 픽 아이템" │
└──────────────────────────────────────┘

┌─ 해시태그 ──────────────────── [복사] ─┐
│ #연예인추천 #뷰티템 #신상 #리뷰        │
└──────────────────────────────────────┘

┌─ 캡션 ─────────────────────── [복사] ─┐
│ 이 제품 진짜 대박인듯! 연예인이 직접... │
└──────────────────────────────────────┘
```

**성공 기준**:
- 모든 AI 생성 콘텐츠 명확한 표시
- 복사 버튼 클릭 시 클립보드에 정확한 복사
- 복사 성공 시 시각적 피드백 제공
- 수정 내용 실시간 저장

**관련 파일**:
- `/dashboard/components/ai_content_display.py`
- `/dashboard/utils/clipboard.py`

---

### S01_M02_T008: 워크플로우 상태 관리 시스템 (승인/반려/수정/완료)
**우선순위**: High  
**예상 소요시간**: 1.5일  

**목표**: 
- PRD SPEC-DASH-05 상태 관리 워크플로우 구현
- 체계적인 콘텐츠 승인 프로세스

**상세 작업**:
1. `components/workflow_manager.py` 컴포넌트 생성
2. 상태 변경 버튼 UI (승인/반려/수정요청/업로드완료)
3. 상태 변경 이력 추적 시스템
4. 워크플로우 진행 상황 시각화
5. 상태별 자동 알림 기능 (선택사항)
6. 벌크 액션 지원 (여러 항목 동시 처리)

**상태 정의**:
- `pending`: 검토 대기
- `approved`: 승인됨
- `rejected`: 반려됨
- `revision_needed`: 수정 필요
- `uploaded`: 업로드 완료

**워크플로우 시각화**:
```
[대기] → [승인] → [업로드완료]
  ↓       ↓
[반려]   [수정필요] → [승인]
```

**성공 기준**:
- 모든 상태 전환 버튼 정상 동작
- 상태 변경 이력 완전한 보존
- 진행 상황 명확한 시각적 표시
- 벌크 액션 정확한 처리

**관련 파일**:
- `/dashboard/components/workflow_manager.py`
- `/dashboard/utils/state_manager.py`

---

### S01_M02_T009: 필터링된 제품 관리 페이지 및 수동 링크 연결 기능
**우선순위**: Medium  
**예상 소요시간**: 1일  

**목표**: 
- 쿠팡 검색 실패 제품들의 관리 인터페이스
- 수동 링크 연결을 통한 수익화 복원

**상세 작업**:
1. `pages/filtered_products.py` 생성
2. 필터링된 제품 목록 표시
3. 수동 링크 입력 폼
4. 링크 유효성 검증
5. 메인 목록으로 복원 기능
6. 제품 상태 업데이트 추적

**페이지 구성**:
```
[필터링된 제품 목록]
┌─────────────────────────────────────┐
│ 제품명 | 사유 | 액션               │
│ ABC크림 | 검색실패 | [링크연결] [삭제] │
└─────────────────────────────────────┘

[수동 링크 연결 폼]
- 제품명: [자동입력]
- 쿠팡 링크: [입력필드]
- [연결하기] [취소]
```

**성공 기준**:
- 필터링된 제품 완전한 목록 표시
- 수동 링크 연결 시 메인 목록 자동 복원
- 링크 유효성 검증 정상 동작
- 상태 변경 정확한 추적

**관련 파일**:
- `/dashboard/pages/filtered_products.py`
- `/dashboard/utils/link_validator.py`

---

### S01_M02_T010: 대시보드 통합 테스트 및 UI/UX 검증
**우선순위**: Medium  
**예상 소요시간**: 1일  

**목표**: 
- 전체 대시보드 기능 통합 테스트
- 사용자 경험 최적화 및 버그 수정

**상세 작업**:
1. E2E 테스트 시나리오 작성 및 실행
2. 모든 페이지 간 네비게이션 테스트
3. 데이터 플로우 검증
4. 성능 최적화 (로딩 시간, 메모리 사용량)
5. 반응형 디자인 테스트 (다양한 화면 크기)
6. 에러 처리 및 사용자 피드백 개선

**테스트 시나리오**:
1. 신규 사용자 첫 접속 → 전체 워크플로우 체험
2. 대용량 데이터 로딩 → 성능 측정
3. 다양한 브라우저 호환성 테스트
4. 모바일 환경 접근성 테스트
5. 에러 상황 시 복구 테스트

**성공 기준**:
- 모든 디바이스에서 정상 동작
- 페이지 로딩 시간 3초 이내
- 직관적인 사용자 경험 확보
- 에러 상황 시 적절한 안내 메시지

**관련 파일**:
- `/tests/dashboard/test_integration.py`
- `/dashboard/utils/performance.py`

---

## 스프린트 완료 조건

### 필수 조건 (Must Have)
- [ ] Streamlit 대시보드 정상 실행 (`streamlit run dashboard/main.py`)
- [ ] 모든 핵심 페이지 접근 및 네비게이션 동작
- [ ] 데이터 테이블의 정렬/필터링/페이지네이션 정상 동작
- [ ] YouTube 타임스탬프 재생 기능 동작
- [ ] 워크플로우 상태 변경 시스템 동작

### 성능 조건 (Performance)
- [ ] 100개 데이터 로딩 시간 5초 이내
- [ ] 실시간 필터링 응답 시간 1초 이내
- [ ] 메모리 사용량 500MB 이하 유지

### 사용성 조건 (Usability)
- [ ] 운영자가 15분 내 시스템 숙지 가능
- [ ] 모든 액션에 적절한 피드백 제공
- [ ] 에러 상황 시 명확한 안내 메시지

---

## 기술 스택

**프론트엔드**:
- Streamlit (메인 프레임워크)
- HTML/CSS (커스텀 스타일링)
- JavaScript (YouTube API 연동)

**백엔드**:
- Python 3.9+
- Pandas (데이터 처리)
- SQLite (로컬 데이터베이스)

**외부 API**:
- YouTube Data API
- 쿠팡 파트너스 API (향후 연동)

---

## 의존성 및 전제조건

**의존성**:
- 기본 데이터 구조 정의 완료
- 더미 데이터 또는 실제 분석 결과 데이터 준비
- YouTube API 키 발급

**전제조건**:
- Python 개발 환경 설정 완료
- Streamlit 기본 사용법 숙지
- PRD 문서 내용 완전한 이해

---

## 리스크 및 대응 방안

**높은 리스크**:
1. **YouTube 임베드 제한**: iframe 정책 변경 시 대응
   - **대응**: 대체 플레이어 또는 외부 링크 방식 준비

2. **대용량 데이터 성능**: 데이터 증가 시 성능 저하
   - **대응**: 가상화(virtualization) 또는 서버사이드 페이지네이션 적용

**중간 리스크**:
1. **브라우저 호환성**: 다양한 브라우저 환경 대응
   - **대응**: 주요 브라우저별 테스트 및 폴리필 적용

2. **모바일 최적화**: 반응형 디자인 복잡성
   - **대응**: 모바일 우선 설계 및 단계적 개선

이 스프린트를 통해 운영자가 실제로 사용 가능한 수준의 관리 대시보드를 완성하여, AI 분석 결과를 효율적으로 관리하고 수익화 콘텐츠를 체계적으로 생산할 수 있는 기반을 마련합니다.