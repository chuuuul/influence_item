# 연예인 추천 아이템 자동화 릴스 시스템 - 스프린트 태스크

## 스프린트 S02: AI 파이프라인 완성 및 수익화 검증

### S02-001: 쿠팡 파트너스 API 통합 모듈 개발 (우선순위: High)
**목표**: PRD Section 3.1 - 6단계 수익화 가능성 검증 구현

**상세 태스크**:
- `src/monetization/` 디렉토리 생성
- `coupang_partners_api.py`: 쿠팡 파트너스 API 클라이언트 구현
- 제품명 기반 자동 검색 및 제휴 링크 생성
- API 호출 제한 및 에러 처리 로직
- 검색 결과 없는 제품 별도 분류 처리
- 단위 테스트 작성 (`tests/monetization/`)

**성공 기준**: 
- 제품명 입력 시 쿠팡 검색 결과 반환
- 제휴 링크 자동 생성
- API 에러 시 적절한 예외 처리

### S02-002: PPL 콘텐츠 필터링 로직 개발 (우선순위: High)
**목표**: PRD Section 3.1 - 5단계 PPL 콘텐츠 필터링 구현

**상세 태스크**:
- `src/gemini_analyzer/ppl_filter.py` 생성
- 영상 설명과 음성 스크립트 맥락 분석
- PPL 확률 점수 계산 알고리즘
- 높은 확률 콘텐츠 자동 분류
- 2차 분석기에 PPL 필터링 통합
- PPL 분류 정확도 테스트

**성공 기준**:
- PPL 확률 0-1 범위 점수 출력
- 0.7 이상 시 별도 목록 분류
- 기존 파이프라인에 자연스럽게 통합

### S02-003: 최종 매력도 스코어링 시스템 구현 (우선순위: High)
**목표**: PRD Section 3.1 - 7단계 매력도 스코어링 구현

**상세 태스크**:
- `src/scoring/` 디렉토리 생성
- `attraction_scorer.py`: 스코어링 엔진 구현
- 감성 강도 분석 (가중치 0.50)
- 실사용 인증 강도 분석 (가중치 0.35)
- 인플루언서 신뢰도 분석 (가중치 0.15)
- 종합 점수 계산 및 등급 분류
- 스코어링 결과 검증 테스트

**성공 기준**:
- 0-100 점수 범위 출력
- 각 세부 점수 구성 요소 제공
- JSON 스키마 준수

### S02-004: 2차 AI 분석 프롬프트 개선 (우선순위: Medium)
**목표**: PRD Section 3.2.2 JSON 스키마 완벽 준수

**상세 태스크**:
- 현재 `second_pass_analyzer.py` 프롬프트 검토
- PRD Section 3.3 JSON 스키마 강제 적용
- 누락 필드 처리 로직 개선
- 잘못된 형식 응답 재시도 메커니즘
- 프롬프트 정확도 향상 테스트

**성공 기준**:
- JSON 스키마 100% 준수
- 필수 필드 누락 시 재시도
- 응답 품질 일관성 확보

### S02-005: 상태 관리 시스템 강화 (우선순위: Medium)
**목표**: 체크포인트 기반 복구 메커니즘 완성

**상세 태스크**:
- `state_manager.py` 기능 확장
- 단계별 상세 복구 로직 구현
- 실패 지점부터 재시작 기능
- 상태 파일 압축 및 정리
- 긴 영상 처리 시 메모리 최적화

**성공 기준**:
- 임의 단계 실패 시 복구 가능
- 상태 파일 크기 최적화
- 메모리 사용량 안정화

### S02-006: 영상 프레임 추출 및 OCR/객체 인식 모듈 개발 (우선순위: High)
**목표**: PRD Section 3.1 - 3단계 타겟 시각 분석 구현

**상세 태스크**:
- `src/vision_processor/` 디렉토리 생성
- `frame_extractor.py`: YouTube 영상 프레임 추출
- `ocr_processor.py`: EasyOCR 통합
- `object_detector.py`: YOLOv8 통합
- 후보 시간대별 프레임 분석
- 시각 정보와 음성 데이터 결합

**성공 기준**:
- 지정 타임스탬프 프레임 추출
- 텍스트 및 객체 인식 결과 반환
- 2차 분석기에 시각 데이터 제공

### S02-007: 통합 테스트 스위트 구축 (우선순위: Medium)
**목표**: 전체 파이프라인 E2E 테스트

**상세 태스크**:
- `tests/integration/` 강화
- 실제 YouTube 영상 기반 E2E 테스트
- 성능 벤치마크 테스트
- 메모리 누수 검증
- 다양한 영상 유형별 테스트 케이스

**성공 기준**:
- 10분 영상 분석 완료
- 메모리 사용량 안정화
- 모든 모듈 통합 동작 검증

### S02-008: 데이터베이스 스키마 설계 및 구현 (우선순위: Medium)
**목표**: SQLite 기반 영구 저장소 구축

**상세 태스크**:
- `src/database/` 디렉토리 생성
- SQLite 스키마 설계 (영상, 제품, 분석결과)
- `models.py`: SQLAlchemy 모델 정의
- `database_manager.py`: CRUD 연산
- 데이터 마이그레이션 스크립트
- 데이터베이스 백업/복구 기능

**성공 기준**:
- 분석 결과 영구 저장
- 중복 분석 방지
- 데이터 무결성 보장

---

## 스프린트 S03: 관리 대시보드 개발

### S03-001: Streamlit 기반 관리 대시보드 개발 (우선순위: High)
**목표**: PRD Section 4 관리 대시보드 기본 구조

**상세 태스크**:
- `dashboard/` 디렉토리 생성
- `main_dashboard.py`: Streamlit 메인 앱
- 사이드바 네비게이션 구성
- 기본 레이아웃 및 스타일링
- 세션 상태 관리
- 대시보드 런처 스크립트

**성공 기준**:
- 로컬에서 대시보드 실행
- 반응형 레이아웃
- 직관적인 네비게이션

### S03-002: 수익화 가능 후보 대시보드 (우선순위: High)
**목표**: PRD SPEC-DASH-01 고급 정렬 및 필터링

**상세 태스크**:
- `pages/monetizable_candidates.py` 생성
- 매력도 점수별 테이블 표시
- 모든 컬럼 클릭 정렬 기능
- 키워드 기반 실시간 필터링
- 페이지네이션 구현
- 데이터 익스포트 기능

**성공 기준**:
- 100개 이상 후보 빠른 정렬
- 실시간 검색 필터링
- CSV/JSON 내보내기

### S03-003: 수익화 필터링 목록 대시보드 (우선순위: High)
**목표**: 쿠팡 검색 실패 제품 관리

**상세 태스크**:
- `pages/filtered_products.py` 생성
- 검색 실패 제품 목록 표시
- 수동 링크 연결 기능
- 메인 목록으로 복원 기능
- 제품 상태 업데이트
- 벌크 액션 지원

**성공 기준**:
- 필터링된 제품 관리
- 수동 링크 연결 시 메인 복원
- 상태 변경 추적

### S03-004: 상세 뷰 및 영상 재생 기능 (우선순위: High)
**목표**: PRD SPEC-DASH-02 타임스탬프 자동 재생

**상세 태스크**:
- `components/detail_view.py` 생성
- 제품 상세 정보 표시
- YouTube 임베드 플레이어
- 타임스탬프 클릭 시 자동 재생
- 제품 이미지 갤러리
- 분석 과정 상세 로그

**성공 기준**:
- 클릭 한 번에 해당 구간 재생
- 모든 제품 정보 시각화
- 사용자 친화적 인터페이스

### S03-005: AI 생성 콘텐츠 표시 및 복사 기능 (우선순위: Medium)
**목표**: PRD SPEC-DASH-03 AI 생성 콘텐츠 표시

**상세 태스크**:
- `components/ai_content_display.py` 생성
- 추천 제목, 해시태그, 캡션 표시
- 원클릭 복사 버튼
- 클립보드 복사 피드백
- 콘텐츠 수정 기능
- 커스텀 템플릿 지원

**성공 기준**:
- 모든 AI 생성 콘텐츠 표시
- 복사 버튼 정상 동작
- 수정 내용 저장

### S03-006: 반자동 보조 검색 기능 (우선순위: Medium)
**목표**: PRD SPEC-DASH-04 보조 검색 지원

**상세 태스크**:
- `components/search_assistant.py` 생성
- 제품 이미지 자동 캡처
- Google/네이버 검색 링크 생성
- 이미지 기반 역검색 지원
- 검색 결과 임베드
- 제품명 자동 업데이트

**성공 기준**:
- 제품 이미지 자동 추출
- 외부 검색 원클릭 연결
- 검색 결과 반영

### S03-007: 상태 기반 워크플로우 관리 (우선순위: High)
**목표**: PRD SPEC-DASH-05 상태 관리 워크플로우

**상세 태스크**:
- `components/workflow_manager.py` 생성
- 승인/반려/수정/업로드 완료 버튼
- 상태 변경 이력 추적
- 워크플로우 진행 상황 시각화
- 자동 알림 기능
- 상태별 필터링

**성공 기준**:
- 모든 상태 전환 버튼 동작
- 상태 변경 이력 보존
- 진행 상황 명확히 표시

### S03-008: 대시보드 인터랙션 및 UX 개선 (우선순위: Medium)
**목표**: 사용자 경험 최적화

**상세 태스크**:
- 반응형 레이아웃 구현
- 데이터 로딩 상태 표시
- 페이지네이션 성능 최적화
- 키보드 단축키 지원
- 다크/라이트 테마
- 사용자 설정 저장

**성공 기준**:
- 모든 디바이스에서 정상 동작
- 빠른 데이터 로딩
- 직관적인 사용자 경험

---

## 마일스톤 및 의존성

### S02 스프린트 완료 조건:
1. 전체 AI 파이프라인 완전 자동화 (S02-001~003)
2. PRD Section 3.1의 모든 단계 구현 완료
3. 실제 YouTube 영상으로 E2E 테스트 성공

### S03 스프린트 완료 조건:
1. 완전 기능하는 관리 대시보드 (S03-001~004)
2. PRD Section 4의 모든 SPEC-DASH 요구사항 충족
3. 실제 운영자가 사용 가능한 수준의 UX

### 스프린트 간 의존성:
- S03은 S02의 데이터베이스 스키마(S02-008)에 의존
- S03-004는 S02-006의 영상 프레임 추출에 의존
- S03-003은 S02-001의 쿠팡 API 통합에 의존

### 우선순위 조정 가이드:
1. **High 우선순위**: PRD 핵심 기능, 시스템 동작에 필수
2. **Medium 우선순위**: 사용자 경험 개선, 운영 효율성
3. **Low 우선순위**: 향후 확장성, 선택적 기능

---

## 기술적 고려사항

### S02 스프린트:
- GPU 서버 연동 고려 (OCR/객체 인식)
- Gemini API 호출 최적화
- 메모리 사용량 모니터링
- 에러 복구 메커니즘 강화

### S03 스프린트:
- Streamlit 성능 최적화
- 대용량 데이터 페이지네이션
- 실시간 상태 업데이트
- 브라우저 호환성 확보

이 스프린트 태스크들은 PRD 문서의 모든 요구사항을 충족하도록 설계되었으며, 실제 운영 가능한 v1.0 시스템 완성을 목표로 합니다.